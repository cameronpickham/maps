// Generated by CoffeeScript 1.6.3
(function() {
  var go, initialize, places, plot;

  places = [];

  $.getJSON("./checkins.json", function(data) {
    places = data;
    return go();
  });

  go = function() {
    return google.maps.event.addDomListener(window, "load", initialize());
  };

  initialize = function() {
    var map, mapOptions, place, _i, _len, _results;
    mapOptions = {
      zoom: 11,
      center: new google.maps.LatLng(34.02234, -118.28512),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
    _results = [];
    for (_i = 0, _len = places.length; _i < _len; _i++) {
      place = places[_i];
      _results.push(plot(place, map));
    }
    return _results;
  };

  plot = function(place, map) {
    var info_window, latLng, marker;
    latLng = place.latLng;
    info_window = new google.maps.InfoWindow({
      content: place.name
    });
    marker = new google.maps.Marker({
      map: map,
      position: new google.maps.LatLng(latLng[0], latLng[1])
    });
    return google.maps.event.addListener(marker, 'click', function() {
      return info_window.open(map, marker);
    });
  };

}).call(this);
